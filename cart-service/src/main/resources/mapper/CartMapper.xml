<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.douyinmall.cart.mapper.CartMapper">
        <update id="updateCart" parameterType="com.douyinmall.cart.domain.VO.Cart">
                UPDATE cart
                <set>
                        <if test="name != null">
                                name = #{name},
                        </if>
                        <if test="image != null">
                                image = #{image},
                        </if>
                        <if test="userId != null">
                                user_id = #{userId},
                        </if>
                        <if test="productId != null">
                                product_id = #{productId},
                        </if>
                        <if test="number != null">
                                number = #{number},
                        </if>
                        <if test="amount != null">
                                amount = #{amount},
                        </if>
                        <if test="createTime != null">
                                create_time = #{createTime}
                        </if>
                </set>
                <where>
                        id = #{id}
                </where>
        </update>
        <select id="getCartByUserId" resultType="com.douyinmall.cart.domain.VO.Cart">
                SELECT *
                FROM cart
                WHERE user_id = #{userId}
                ORDER BY create_time DESC
        </select>
        <insert id="insertCart" parameterType="com.douyinmall.cart.domain.VO.Cart">
                INSERT INTO cart (name, image, user_id, product_id, number, amount, create_time, product_type, price)
                VALUES (#{name}, #{image}, #{userId}, #{productId}, #{number}, #{amount}, #{createTime}, #{productType}, #{price})
        </insert>
</mapper>
